import{w as X,t as Y,d as W,u as Z,r as i,g as T,c as ee,_,a as o,C as ae,i as ne,b as te,e as oe,v as le,f as z,T as se,P as y,h as ue,I as ce,j as re,E as ie,k as pe,l as ve,m as de,n as fe,s as U,o as _e,p as me,q as ye,x as c,y as r,z as u,A as C,B as R,W as S,D as $,F as Ce,G as ge}from"./index.4f5ec2f0.js";import{_ as Ae,B as he}from"./index.deee0b75.js";import{_ as xe,a as Ee}from"./index.4b474efb.js";import{c as we}from"./index.080beee7.js";import"./index.1331b56c.js";var Fe={success:ue,info:ce,error:re,warning:ie},ke={success:pe,info:ve,error:de,warning:fe},Ie=Y("success","info","warning","error"),be=function(){return{type:y.oneOf(Ie),closable:{type:Boolean,default:void 0},closeText:y.any,message:y.any,description:y.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:y.any,closeIcon:y.any,onClose:Function}},Ve=W({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:be(),setup:function(a,p){var s=p.slots,m=p.emit,v=p.attrs,g=p.expose,F=Z("alert",a),O=F.prefixCls,P=F.direction,d=i(!1),A=i(!1),h=i(),k=function(e){e.preventDefault();var l=h.value;l.style.height="".concat(l.offsetHeight,"px"),l.style.height="".concat(l.offsetHeight,"px"),d.value=!0,m("close",e)},x=function(){var e;d.value=!1,A.value=!0,(e=a.afterClose)===null||e===void 0||e.call(a)};g({animationEnd:x});var t=i({});return function(){var f,e,l=a.banner,I=a.closeIcon,b=I===void 0?(f=s.closeIcon)===null||f===void 0?void 0:f.call(s):I,M=a.closable,E=a.type,w=a.showIcon,N=T(s,a,"closeText"),V=T(s,a,"description"),H=T(s,a,"message"),B=T(s,a,"icon");w=l&&w===void 0?!0:w,E=l&&E===void 0?"warning":E||"info";var q=(V?ke:Fe)[E]||null;N&&(M=!0);var n=O.value,G=ee(n,(e={},_(e,"".concat(n,"-").concat(E),!0),_(e,"".concat(n,"-closing"),d.value),_(e,"".concat(n,"-with-description"),!!V),_(e,"".concat(n,"-no-icon"),!w),_(e,"".concat(n,"-banner"),!!l),_(e,"".concat(n,"-closable"),M),_(e,"".concat(n,"-rtl"),P.value==="rtl"),e)),J=M?o("button",{type:"button",onClick:k,class:"".concat(n,"-close-icon"),tabindex:0},[N?o("span",{class:"".concat(n,"-close-text")},[N]):b===void 0?o(ae,null,null):b]):null,K=B&&(ne(B)?we(B,{class:"".concat(n,"-icon")}):o("span",{class:"".concat(n,"-icon")},[B]))||o(q,{class:"".concat(n,"-icon")},null),Q=te("".concat(n,"-motion"),{appear:!1,css:!0,onAfterLeave:x,onBeforeLeave:function(D){D.style.maxHeight="".concat(D.offsetHeight,"px")},onLeave:function(D){D.style.maxHeight="0px"}});return A.value?null:o(se,Q,{default:function(){return[oe(o("div",z(z({role:"alert"},v),{},{style:[v.style,t.value],class:[v.class,G],"data-show":!d.value,ref:h}),[w?K:null,o("div",{class:"".concat(n,"-content")},[H?o("div",{class:"".concat(n,"-message")},[H]):null,V?o("div",{class:"".concat(n,"-description")},[V]):null]),J]),[[le,!d.value]])]}})}}});const Be=X(Ve);const De={name:"CoexistMicroApp"},Te=W({...De,setup(j){const a=i(null),p=i(null),s=i(null),m=i(!0),v=i(!0),g=i(!0),{apps:F}=U(_e()),{user:O}=U(me());ye(F.value,x=>{x.forEach(t=>{t.name==="vue2App"?a.value={...t,name:t.name+"Coexist",url:`${t.url}#/vue2App/communication-test`}:t.name==="reactApp"?p.value={...t,name:t.name+"Coexist",url:`${t.url}#/reactApp/communication-test`}:t.name==="viteApp"&&(s.value={...t,name:t.name+"Coexist",url:`${t.url}#/viteApp/communication-test`})})},{immediate:!0});const{bus:P}=S;function d(){P.$emit("changeUser",{user:Ce(O.value)})}function A(){m.value=!m.value}function h(){v.value=!v.value}function k(){g.value=!g.value}return(x,t)=>{const f=Be,e=he,l=xe,I=Ee,b=Ae;return c(),r(b,{direction:"vertical",size:40,class:"box"},{default:u(()=>[o(f,{message:"\u5DE6\u4E0A\u4FA7\u5E94\u7528\u4E3AVue2\u5B50\u5E94\u7528\uFF0C\u53F3\u4E0A\u4FA7\u5E94\u7528\u4E3AReact18\u5B50\u5E94\u7528\uFF0C\u5DE6\u4E0B\u4FA7\u4E3Avite\u5B50\u5E94\u7528\u3002",type:"success"}),o(I,{gutter:20},{default:u(()=>[o(l,{span:12},{default:u(()=>[m.value?(c(),r(e,{key:0,type:"primary",danger:"",onClick:A},{default:u(()=>[C(" \u5378\u8F7DVue2\u5E94\u7528 ")]),_:1})):(c(),r(e,{key:1,type:"primary",onClick:A},{default:u(()=>[C(" \u52A0\u8F7DVue2\u5E94\u7528 ")]),_:1})),m.value&&a.value?(c(),r(R(S),{key:2,class:"app",name:a.value.name,url:a.value.url,afterMount:d},null,8,["name","url"])):$("",!0)]),_:1}),o(l,{span:12},{default:u(()=>[v.value?(c(),r(e,{key:0,type:"primary",danger:"",onClick:h},{default:u(()=>[C(" \u5378\u8F7DReact18\u5E94\u7528 ")]),_:1})):(c(),r(e,{key:1,type:"primary",onClick:h},{default:u(()=>[C(" \u52A0\u8F7DReact18\u5E94\u7528 ")]),_:1})),v.value&&p.value?(c(),r(R(S),{key:2,class:"app",name:p.value.name,url:p.value.url,afterMount:d},null,8,["name","url"])):$("",!0)]),_:1}),o(l,{span:12},{default:u(()=>[v.value?(c(),r(e,{key:0,type:"primary",danger:"",onClick:k},{default:u(()=>[C(" \u5378\u8F7DVite\u5E94\u7528 ")]),_:1})):(c(),r(e,{key:1,type:"primary",onClick:k},{default:u(()=>[C(" \u52A0\u8F7DVite\u5E94\u7528 ")]),_:1})),g.value&&s.value?(c(),r(R(S),{key:2,class:"app",name:s.value.name,url:s.value.url,afterMount:d},null,8,["name","url"])):$("",!0)]),_:1})]),_:1})]),_:1})}}});const Re=ge(Te,[["__scopeId","data-v-6265415a"]]);export{Re as default};
