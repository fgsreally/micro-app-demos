{"version":3,"file":"static/js/618.039e8d4d.chunk.js","mappings":"mTAIMA,EAAeC,uEAEfC,EAAU,CACd,CAAEC,KAAM,+CAAkBC,IAAK,CAAC,GAADC,OAAIL,EAAY,8BAC/C,CAAEG,KAAM,iEAAqBC,IAAK,CAAC,GAADC,OAAIL,EAAY,0BASrC,SAASM,IACtB,IAAMC,GAAYC,EAAAA,EAAAA,QAAO,MACzBC,GAAoCC,EAAAA,EAAAA,UAA6B,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/DI,EAAUF,EAAA,GAAEG,EAAaH,EAAA,GAmBhC,OATAI,EAAAA,EAAAA,YAAU,WACR,GAAIF,EAEF,OADAG,EAAAA,EAAAA,IAAYH,EAAYN,EAAUU,SAC3B,YACLC,EAAAA,EAAAA,IAAaL,EAAYN,EAAUU,QACrC,CAEJ,GAAG,CAACJ,KAGFM,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEC,EAAAA,EAAAA,MAAAC,EAAAA,QAAA,CAAOC,KAAM,GAAIC,MAAO,CAAEC,MAAO,QAASC,UAAU,WAAUN,SAAA,EAC5DF,EAAAA,EAAAA,KAAAS,EAAAA,QAAA,CAAOC,QAAQ,oHAA+BC,KAAK,aACnDX,EAAAA,EAAAA,KAAAY,EAAAA,EAAA,CAAAV,UACEF,EAAAA,EAAAA,KAAAY,EAAAA,EAAMC,KAAI,CAACC,MAAM,qEAAaZ,UAC5BF,EAAAA,EAAAA,KAAAe,EAAAA,EAAA,CACET,MAAO,CAAEC,MAAO,SAChBxB,QAASA,EACTiC,WAAY,CAACF,MAAO,OAAQG,MAAO,QACnCC,SA3BS,SAACD,EAAYlC,GAChC,IAAOC,EAAaD,EAAbC,KAAMC,EAAOF,EAAPE,IACbU,GAAc,iBAAO,CACnBX,KAAAA,EACAC,IAAAA,EACD,GACH,SAyBMe,EAAAA,EAAAA,KAAA,OAAKmB,IAAK/B,QAIlB,CA3CEL,EAAQ,GAAGE,IAAImC,KAAK,GAADlC,OAAIL,EAAY,+BACnCE,EAAQ,GAAGE,IAAImC,KAAK,GAADlC,OAAIL,EAAY,yB","sources":["views/MicroAppView/index.tsx"],"sourcesContent":["import { Alert, Form, Select, Space } from 'antd'\nimport { useEffect, useRef, useState } from 'react'\nimport { mountModule, unmoutModule, type StarkModule } from '@ice/stark-module'\n\nconst vue2AppEntry = process.env.REACT_APP_VUE2_CHILD_PUBLIC_PATH\n\nconst options = [\n  { name: 'vue2App-通信测试页面', url: [`${vue2AppEntry}/js/communicationTest.js`] },\n  { name: 'vue2App-子应用跳转测试页面', url: [`${vue2AppEntry}/js/navigateView.js`] }\n]\n\n// 生产环境下需要添加css入口\nif (process.env.NODE_ENV === 'production') {\n  options[0].url.push(`${vue2AppEntry}/css/communicationTest.css`)\n  options[1].url.push(`${vue2AppEntry}/css/navigateView.css`)\n}\n\nexport default function MicroAppView() {\n  const container = useRef(null)\n  const [moduleInfo, setModuleInfo] = useState<StarkModule | null>(null)\n\n  const handleChange = (value: any, options: any) => {\n    const {name, url} = options\n    setModuleInfo(() => ({\n      name,\n      url\n    }))\n  }\n\n  useEffect(() => {\n    if (moduleInfo) {\n      mountModule(moduleInfo, container.current!)\n      return () => {\n        unmoutModule(moduleInfo, container.current!)\n      }\n    }\n  }, [moduleInfo])\n\n  return (\n    <>\n      <Space size={20} style={{ width: '100%'}} direction=\"vertical\">\n        <Alert message=\"这是React18子应用作为主应用，挂载Vue2子应用。\" type=\"success\" />\n        <Form>\n          <Form.Item label=\"选择要加载的子应用页面\">\n            <Select\n              style={{ width: '400px'}}\n              options={options}\n              fieldNames={{label: 'name', value: 'name'}}\n              onChange={handleChange}\n            />\n          </Form.Item>\n        </Form>\n        <div ref={container}></div>\n      </Space>\n    </>\n  )\n}\n"],"names":["vue2AppEntry","process","options","name","url","concat","MicroAppView","container","useRef","_useState","useState","_useState2","_slicedToArray","moduleInfo","setModuleInfo","useEffect","mountModule","current","unmoutModule","_jsx","_Fragment","children","_jsxs","_Space","size","style","width","direction","_Alert","message","type","_Form","Item","label","_Select","fieldNames","value","onChange","ref","push"],"sourceRoot":""}