{"version":3,"file":"Vue2.vue_vue_type_script_setup_true_lang.ddc8225a.js","sources":["../../../../packages/merak-demo/vue3-main/src/views/merak/Vue2.vue"],"sourcesContent":["<template>\n  <merak-app\n    name=\"vue_cli\"\n    :url=\"url\"\n    :keep-alive=\"keepAlive\"\n    :props=\"{\n      router: $router\n    }\"\n    @after-mount=\"RouteChange\"\n  ></merak-app>\n</template>\n\n<script lang=\"ts\" setup>\nimport { MerakApp, $$namespace } from 'merak-vue'\nimport { useRoute } from 'vue-router'\nimport { nextTick, watch } from 'vue'\n// eslint-disable-next-line vue/no-setup-props-destructure\nconst props = defineProps<{\n  routePath?: string\n  keepAlive?: boolean\n  afterMount?: () => void\n}>()\n\nconst route = useRoute()\nfunction RouteChange() {\n  $$namespace().emitter.emit('vue2App:router-change', {\n    path: props.routePath || route.path.replace('/vue2App', ''),\n    replace: true\n  })\n  props.afterMount?.()\n}\nwatch(\n  () => route.path,\n  async (n, o) => {\n    if (n.includes('vue2') && o.includes('vue2')) {\n      await nextTick()\n      RouteChange()\n    }\n  }\n)\nconst url = import.meta.env.VITE_VUE2_CHILD_ENTRY\n</script>\n"],"names":["route","useRoute","RouteChange","$$namespace","props","_a","watch","n","o","nextTick","url"],"mappings":"qNAuBAA,EAAAC,IACA,SAAAC,GAAA,OACEC,IAAA,QAAA,KAAA,wBAAA,CAAoD,KAAAC,EAAA,WAAAJ,EAAA,KAAA,QAAA,WAAA,EAAA,EACQ,QAAA,EACjD,CAAA,GAEXK,EAAAD,EAAA,aAAA,MAAAC,EAAA,KAAAD,EAAmB,CAErBE,EAAA,IAAAN,EAAA,KACc,MAAAO,EAAAC,IAAA,CAEVD,EAAA,SAAA,MAAA,GAAAC,EAAA,SAAA,MAAA,IACE,MAAAC,EAAA,EACAP,IACF,CACF,EAEF,MAAAQ,EAAA"}